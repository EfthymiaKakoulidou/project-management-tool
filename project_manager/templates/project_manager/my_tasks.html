{% extends 'base.html' %}

{% block title %}Tasks{% endblock %}

{% block content %}

{% if user.is_authenticated %}
<h1 class="text-center p-2">My Tasks</h1>
<p class="text-center" style="font-size: medium;">Tasks assigned to me.</p>
<div class="container d-flex flex-column flex-wrap justify-content-center">
    
  {% for task in tasks %}

  {% if task.status == 'To do' %}

     <div class="tasks" style="background-color: rgb(159, 200, 190);"> 
      <a class='task-list' href="{% url 'edit_task_status' task.id %}" style="background-color: rgb(159, 200, 190);">{{ task.project }} 
      </a>
      <a class='task-list' href="{% url 'edit_task_status' task.id %}" style="background-color: rgb(159, 200, 190);">{{ task.title }}
      </a>
      <a class="task-list-status" href="{% url 'edit_task_status' task.id %}" style="background-color: rgb(159, 200, 190);">
      {{task.status}}
      </a>
      <a class="task-list-status" href="{% url 'edit_task_status' task.id %}" style="font-size: smaller; background-color: rgb(159, 200, 190);">
        {{task.deadline|date:"Y-m-d"}}
        </a></div>
  {% endif %}
  {% endfor %}

  {% for task in tasks %}

  {% if task.status == 'In progress' %}

  <div class="tasks" style="background-color: rgb(244, 227, 172);"> 
    <a class='task-list' href="{% url 'edit_task_status' task.id %}" style="background-color: rgb(244, 227, 172);">{{ task.project }} 
    </a>
    <a class='task-list' href="{% url 'edit_task_status' task.id %}" style="background-color: rgb(244, 227, 172);">{{ task.title }}
    </a>
    <a class="task-list-status" href="{% url 'edit_task_status' task.id %}" style="background-color: rgb(244, 227, 172);">
    {{task.status}}
    </a>
    <a class="task-list-status" href="{% url 'edit_task_status' task.id %}" style="font-size: smaller; background-color: rgb(244, 227, 172);">
      {{task.deadline|date:"Y-m-d"}}
      </a></div>
  {% endif %}
  {% endfor %}

    {% for task in tasks %}

    {% if task.status == 'Done' %}
    
    <div class="tasks" style="background-color: lightgrey; color: gray;">
      <a class='task-list' style="background-color:lightgrey; color: gray;" href="{% url 'edit_task_status' task.id %}">{{ task.project }} 
      </a>
    <a class='task-list' style="background-color:lightgrey; color: gray;" href="{% url 'edit_task_status' task.id %}">{{ task.title }}
    </a>

    <a class='task-list-status' style="background-color:lightgrey; color: gray;" href="{% url 'edit_task_status' task.id %}">{{task.status}}
    </a>

    <a class="task-list-status" style="background-color:lightgrey; color: gray; font-size: smaller;" href="{% url 'edit_task_status' task.id %}">
      {{task.deadline|date:"Y-m-d"}}
      </a>
</div>
    {% endif %}
    {% endfor %}

</div>
{% endif %}
{% endblock %}